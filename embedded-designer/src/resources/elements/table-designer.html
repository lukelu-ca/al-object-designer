<template>
    <compose view="resources/elements/design-toolbar.html" show.bind="objectInfo.FsPath != ''"></compose>
    <div class="content designer-content ${objectInfo.FsPath != '' ? 'designer-toolbar-padding' : ''}">
        <ui-section row-layout>
            <ui-content scroll>
                <div class="ui-text-primary ui-font-big ui-pad-all">Fields</div>
                <div class="virtual-repeater-wrapper" style="height: 300px">
                    <ag-grid-aurelia #agGrid style="width: 100%; height: 100%;" class="ag-theme-material"
                        context.bind="$this" row-data.bind="objectInfo.Symbol.Fields" row-selection.bind="'single'"
                        grid-options.bind="gridOptions" row-selected.call="selectRow($event.node.data, $event)"
                        selection-changed.call="selectRow($event.node.data, $event)"
                        cell-value-changed.call="tableDesignerFieldChanged($event.node.data, $event)">
                        <ag-grid-column header-name="ID" field="Id" width.bind="100"></ag-grid-column>
                        <ag-grid-column header-name="Name" field="Name" width.bind="200"></ag-grid-column>
                        <ag-grid-column header-name="Type" field="TypeDefinition.Name" width.bind="100">
                        </ag-grid-column>
                    </ag-grid-aurelia>
                </div>

                <div class="ui-text-primary ui-font-big ui-pad-all">Keys</div>
                <div class="virtual-repeater-wrapper" style="height: 300px">
                    <ag-grid-aurelia #agGrid style="width: 100%; height: 100%;" class="ag-theme-material"
                        context.bind="$this" row-data.bind="objectInfo.Symbol.Keys" row-selection.bind="'single'"
                        grid-options.bind="gridOptions" row-selected.call="selectRow($event.node.data, $event)"
                        selection-changed.call="selectRow($event.node.data, $event)">
                        <ag-grid-column header-name="Name" field="Name" width.bind="100"></ag-grid-column>
                        <ag-grid-column header-name="Field Names" field="FieldNames" width.bind="100">
                            <ag-cell-template>
                                <span repeat.for="fname of params.data.FieldNames">${fname}, </span>
                            </ag-cell-template>
                        </ag-grid-column>
                    </ag-grid-aurelia>
                </div>
            </ui-content>
            <properties-window current-object.bind="bridgeProperties"></properties-window>
        </ui-section>
    </div>
</template>